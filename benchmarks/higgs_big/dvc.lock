schema: '2.0'
stages:
  log:
    cmd: python ../machine_log.py
    outs:
    - path: dpu_diag.txt
      md5: 26162455057bf0bfe15df19e2f131d1e
      size: 11255
    - path: machine.yaml
      md5: a5baed0c43ef6c5d0147fc64404a7056
      size: 36
  train:
    cmd: python ../benchmark.py
    deps:
    - path: ../../src/
      md5: 1266e022f0211d48b7f3ba2dda693e90.dir
      size: 75355
      nfiles: 14
    - path: ../benchmark.py
      md5: a2e660dd2d504fe1bd8644b14226cfdb
      size: 13729
    - path: ../higgs/data/higgs.pq
      md5: da6ee84e78f0b34d28879003ba023524.dir
      size: 891708998
      nfiles: 127
    params:
      params.yaml:
        data:
          synthetic: false
          name: ../../higgs/data/higgs
        dimm:
          n_dpu:
          - 2048
          - 0
        train:
          n_init: 10
          max_iter: 500
          tol: 0.0001
          n_clusters: 2
          random_state: 42
      machine.yaml:
        hostname: upmemcloud9
        nr_dpus: 2040
    outs:
    - path: benchmarks.csv
      md5: 8923741983f8800b97e7dbc582e4855a
      size: 1313
    - path: metrics.json
      md5: 70109231c815045ca47e6cd44430d6a6
      size: 129
    - path: plots.csv
      md5: 1276e88b559b30f85029d1e86e2c1d66
      size: 85
