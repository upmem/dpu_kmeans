schema: '2.0'
stages:
  train:
    cmd: python ../benchmark.py
    deps:
    - path: ../../src/
      md5: 0eddb62a0e9772f7854c28a8165fb387.dir
      size: 82144
      nfiles: 20
    - path: ../benchmark.py
      md5: fc144b062f115fd2690cafa509aa3137
      size: 13194
    params:
      params.yaml:
        data:
          synthetic: true
          n_points: 1000.0
          n_dim: 16
          centers: 16
          random_state: 42
        dimm:
          n_dpu:
          - 64
          - 128
          - 256
          - 2048
        train:
          n_init: 10
          max_iter: 500
          tol: 0.0001
          n_clusters: 16
          random_state: 42
      hostname.yaml:
        name: upmemcloud1
    outs:
    - path: benchmarks.csv
      md5: 3723ffa6960cda3a42c8680efd9b342c
      size: 2160
    - path: metrics.json
      md5: be4b3ae3f8262cea01ea32cfc0478dcf
      size: 210
    - path: results.csv
      md5: 53352172517ded6ba75e1507c0ca6dec
      size: 172
  host_name:
    cmd: ../get_hostname.sh
    outs:
    - path: hostname.yaml
      md5: e6000c99650874f5fd47732fd34c24c1
      size: 18
  simple_train:
    cmd: python ../benchmark.py --exp_name simple
    deps:
    - path: ../../src/
      md5: 17598cc4b61c8dbdfbe083627ad7bc46.dir
      size: 75378
      nfiles: 14
    - path: ../benchmark.py
      md5: 50861d4dd9b4b204bb9b6611dcb46919
      size: 14388
    params:
      hostname.yaml:
        name: upmemcloud1
      simple.yaml:
        data:
          synthetic: true
          n_points: 1000.0
          n_dim: 16
          centers: 16
          random_state: 42
        dimm:
          n_dpu:
          - 64
          - 128
          - 256
          - 5000
        train:
          n_init: 10
          max_iter: 500
          tol: 0.0001
          n_clusters: 16
          random_state: 42
    outs:
    - path: simple_benchmarks.csv
      md5: 392a2c8d1b18146877695759727d3f5a
      size: 2147
    - path: simple_metrics.json
      md5: 406dbaa2bdc4a3f7c6451e38684055e7
      size: 209
    - path: simple_plots.csv
      md5: 5f66df8ccd81e812c2a60a428da2b94e
      size: 169
