schema: '2.0'
stages:
  log:
    cmd: python ../machine_log.py
    outs:
    - path: dpu_diag.txt
      md5: ad14fa871319148ed23c09cd99e6634a
      size: 5162
    - path: machine.yaml
      md5: b3c08ec54d79b97121b2e752a5180c55
      size: 35
  train:
    cmd: python ../benchmark.py
    deps:
    - path: ../../src/
      md5: 17598cc4b61c8dbdfbe083627ad7bc46.dir
      size: 75378
      nfiles: 14
    - path: ../benchmark.py
      md5: 59942166418769f0f40e0a7ea68905e0
      size: 15001
    params:
      params.yaml:
        data:
          synthetic: true
          n_points: 1000.0
          n_dim: 16
          centers: 16
          random_state: 42
        dimm:
          n_dpu:
          - 64
          - 128
          - 256
          - 5000
        train:
          n_init: 10
          max_iter: 500
          tol: 0.0001
          n_clusters: 16
          random_state: 42
      machine.yaml:
        hostname: upmemcloud1
        nr_dpus: 640
    outs:
    - path: benchmarks.csv
      md5: b55e1a2e2ffc338f347274113d4d2969
      size: 2137
    - path: metrics.json
      md5: 6bf091b89943d52a5de22f303587ee7a
      size: 349
    - path: plots.csv
      md5: 75104b67973cde9f1b3a982dd79ac3de
      size: 170
