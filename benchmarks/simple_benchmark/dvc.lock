schema: '2.0'
stages:
  log:
    cmd: python ../machine_log.py
    outs:
    - path: dpu_diag.txt
      md5: 47db01548e64de424ef224269875ef6a
      size: 5084
    - path: machine.yaml
      md5: c987f498d066a7bdedb8a18892245ffa
      size: 36
  train:
    cmd: python ../benchmark.py
    deps:
    - path: ../../src/
      md5: 1266e022f0211d48b7f3ba2dda693e90.dir
      size: 75355
      nfiles: 14
    - path: ../benchmark.py
      md5: 58fda6b15fa1d3d7057ea904a8506b12
      size: 17652
    params:
      params.yaml:
        data:
          synthetic: true
          n_points: 1000.0
          n_dim: 16
          centers: 16
          random_state: 42
        dimm:
          n_dpu:
          - 64
          - 128
          - 256
          - 5000
        train:
          n_init: 10
          max_iter: 500
          tol: 0.0001
          n_clusters: 16
          random_state: 42
      machine.yaml:
        hostname: upmemcloud1
        nr_dpus: 1024
    outs:
    - path: benchmarks.csv
      md5: 358041a169525874a778a11685ab11d6
      size: 2150
    - path: metrics.json
      md5: bf1bf31a64a90d6a819a584fb2a803fb
      size: 352
    - path: plots.csv
      md5: eef686e0b615cf0768548d7eac17a35b
      size: 173
